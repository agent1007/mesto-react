{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/EditConfirmPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","Footer","PopupWithForm","isOpen","title","onSubmit","children","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","value","onChange","target","required","minLength","maxLength","placeholder","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameRef","linkRef","EditConfirmPopup","ImagePopup","card","api","baseUrl","token","this","_baseUrl","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_requestResult","data","method","body","JSON","stringify","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserData","catch","err","console","log","getInitialCards","Provider","deleteCardLike","addCardLike","newCard","newCards","c","removeCard","filter","editProfile","changeUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41532966.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg'\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Рисунок\" />\r\n      </header>\r\n    );\r\n  }\r\n  \r\n  export default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { useContext} from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn ? 'element__delete-button' : 'element__delete-button_hidden'}`\r\n  ); \r\n  const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__button ${isLiked ? 'element__button_active' : ''}`\r\n  );; \r\n  function handleLikeClick() {\r\n    props.onCardLike({\r\n      likes: props.likes,\r\n      _id: props._id\r\n    })\r\n  }\r\n  function handleDeleteCardClick() {\r\n    props.onCardDelete({\r\n      _id: props._id\r\n    })\r\n  }\r\n  function handleClick() {\r\n    props.onCardClick({\r\n      name: props.name,\r\n      src: props.link\r\n    })\r\n  }\r\n\r\n    return (\r\n        <div className=\"element\">\r\n            <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick}/>\r\n            <div className=\"element__row\">\r\n              <h2 className=\"element__title\" >{props.name}</h2>\r\n              <div className=\"element__buttons\">\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\r\n                <div className=\"element__like-numbers\" >{props.likes.length}</div>\r\n              </div>\r\n            </div>\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteCardClick}/>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import { useContext} from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <div className=\"profile__columns\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Рисунок\" onClick={props.onEditAvatar}/>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n              <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile} />\r\n              <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />         \r\n        </section>\r\n        <section className=\"elements\">\r\n          {props.cards.map(item => {return (<Card \r\n                                        key={item._id}   \r\n                                        {...item} \r\n                                        onCardClick={props.onCardClick} \r\n                                        onCardLike={props.onCardLike}\r\n                                        onCardDelete={props.onCardDelete}\r\n                                      />)})}\r\n        </section>\r\n      </main>\r\n    );\r\n}\r\n  \r\nexport default Main;","function Footer() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;","function PopupWithForm(props) {\r\n  return (\r\n      <>\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''} `}> \r\n          <div className=\"popup__container\">\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n            <form className={`popup__form popup__form_type_${props.name}`} name=\"form-popup\" onSubmit={props.onSubmit}>\r\n              {props.children}   \r\n            </form>\r\n            <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}/>\r\n          </div>\r\n        </div>\r\n      </>\r\n  );\r\n}\r\n  \r\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  \r\n\r\n  const [name, setName ] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm \r\n            name={'edit'} \r\n            title={'Редактировать профиль'} \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}>\r\n            <>\r\n              <input \r\n                type=\"text\" \r\n                name='name'\r\n                className=\"popup__info popup__info_title popup__input\" \r\n                id=\"name-input\"\r\n                value={name || ''}\r\n                onChange={handleChangeName} \r\n                // defaultValue='111'\r\n                required minLength={2} maxLength={40} placeholder=\"Имя\" \r\n              />\r\n              <span \r\n                id=\"name-input-error\" \r\n                className=\"error\" \r\n              />\r\n              <input \r\n                type=\"text\" \r\n                name='about'\r\n                className=\"popup__info popup__info_subtitle popup__input\" \r\n                id=\"title-input\" \r\n                value={description || ''}\r\n                onChange={handleChangeDescription}\r\n                required minLength={2} maxLength={200} placeholder=\"Проффесия\" \r\n                // defaultValue='222'\r\n              />\r\n              <span \r\n                id=\"title-input-error\" \r\n                className=\"error\" \r\n              />    \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button\"\r\n                >Сохранить\r\n              </button>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n          \r\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm';\r\nimport {  useRef } from 'react';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n  \r\n\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='avatar' \r\n            title='Обновить аватар'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit} >\r\n            <>\r\n              <input \r\n                type=\"url\" \r\n                required \r\n                className=\"popup__info popup__info_subtitle popup__info_subtitle-add-card\" \r\n                placeholder=\"Ссылка на аватар\" \r\n                name=\"link\" \r\n                id=\"info-subtitle-avatar\" \r\n                ref={avatarRef}\r\n              />\r\n              <span \r\n                id=\"info-subtitle-avatar-error\" \r\n                className=\"error\" \r\n              />  \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button popup__submit-button_add-card\">Сохранить\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport { useRef } from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const nameRef = useRef();\r\n  const linkRef = useRef();\r\n  \r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      \r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value\r\n    });\r\n    nameRef.current.value = '';\r\n    linkRef.current.value = '';\r\n  } \r\n\r\n\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='add-card' \r\n            title='Новое место' \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose} \r\n            onSubmit={handleSubmit}  >\r\n            <> \r\n              <input \r\n                type=\"text\" \r\n                required \r\n                minLength={2} \r\n                maxLength={30} \r\n                className=\"popup__info popup__info_title popup__info_title-add-card\" \r\n                placeholder=\"Название\" \r\n                name=\"name\" \r\n                id=\"info-title-add-card\" \r\n                ref={nameRef}\r\n                \r\n              />\r\n              <span \r\n                id=\"info-title-add-card-error\" \r\n                className=\"error\" \r\n              />  \r\n              <input \r\n                type=\"url\" \r\n                required \r\n                className=\"popup__info popup__info_subtitle popup__info_subtitle-add-card\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                name=\"link\" \r\n                id=\"info-subtitle-add-card\" \r\n                ref={linkRef}\r\n                \r\n              />\r\n              <span \r\n                id=\"info-subtitle-add-card-error\" \r\n                className=\"error\" \r\n              />  \r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button popup__submit-button_add-card\">Создать\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditConfirmPopup() {\r\n    return (\r\n        <PopupWithForm \r\n            name='confirm' \r\n            title='Вы уверены?' >\r\n            <>\r\n              <button \r\n                type=\"submit\" \r\n                className=\"popup__submit-button\">Да\r\n              </button>\r\n            </>\r\n          </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditConfirmPopup;","function ImagePopup(props) {\r\n    return (\r\n        <div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''} `}>\r\n            <div className=\"popup__container-image\">\r\n                <img className=\"popup__image\" src={props.card ? props.card.src : '#'} alt={props.card ? props.card.name : '#'} />\r\n                <button type=\"button\" className=\"popup__close-button popup__close-button-image\" onClick={props.onClose}/>\r\n                <h2 className=\"popup__image-caption\">{props.card ? props.card.name : '#'}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n    \r\nexport default ImagePopup;","class Api {\r\n    constructor ({baseUrl, token}) {\r\n        this._baseUrl = baseUrl;\r\n        this._token = token\r\n    };\r\n\r\n    _requestResult(res) {\r\n      if (res.ok) {\r\n      return res.json();\r\n     }\r\n     return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n      return fetch (`${this._baseUrl}/cards`, {\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    getUserData() {\r\n      return fetch (`${this._baseUrl}/users/me`, {\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._token,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: data.name,\r\n              link: data.link\r\n            })\r\n          })\r\n          .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    removeCard(id) {\r\n      return fetch(`${this._baseUrl}/cards/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            authorization: this._token,\r\n        }\r\n      })\r\n      .then((res) => this._requestResult(res))\r\n    }\r\n    \r\n\r\n    addCardLike(id){\r\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n              authorization: this._token,\r\n          },\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    deleteCardLike(id){\r\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n              authorization: this._token,\r\n          },\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n    }\r\n\r\n    editProfile(data) {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n              authorization: this._token,\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            name: data.name,\r\n            about: data.about \r\n          })\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n  }\r\n\r\n    changeUserAvatar(data) {\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n              authorization: this._token,\r\n              'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            avatar: data.avatar\r\n          })\r\n        })\r\n        .then((res) => this._requestResult(res))\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  token: 'f552dc2b-43e4-4b2f-bf48-212edce5bbdf'\r\n})\r\n\r\n\r\nexport default api;","import { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditConfirmPopup from './EditConfirmPopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  function handleEditProfileClick () {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick () {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick () {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false)\n  }\n  function handleCardClick (card) {\n    setSelectedCard(card);\n  }\n function handleUpdateUser(data) {\n  api.editProfile(data)\n    .then(data => {\n      setCurrentUser(data);\n      closeAllPopups()\n    }\n    )\n    .catch(err => console.log(err))\n  } \n  function handleUpdateAvatar(data) {\n    api.changeUserAvatar(data)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups()\n      }\n      )\n      .catch(err => console.log(err))\n    } \n    function handleAddPlaceSubmit(data) {\n      api.addCard(data)\n        .then(newCard => {\n          setCards([newCard, ...cards]);;\n          closeAllPopups()\n        }\n        )\n        .catch(err => console.log(err))\n    } \n    function handleCardLike(card) {\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\n      const likeRequest = !isLiked ? api.addCardLike(card._id) : api.deleteCardLike(card._id);\n      likeRequest\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } \n    function handleCardDelete(card) {\n      api.removeCard(card._id) \n        .then(() => {\n          const newCards = cards.filter((data) => {return card._id !== data._id} );\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } \n\n    useEffect( () => {\n      api.getUserData()\n        .then(data => {\n          setCurrentUser(data);\n        })\n      .catch(err => console.log(err))  \n      \n    },[])\n\n    useEffect( () => {\n      api.getInitialCards()\n        .then(res => {\n          setCards(res)\n        })\n        .catch(err => console.log(err))\n      \n    }, [])\n  \n  return (\n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n         \n        <div className=\"page\">\n          <Header />\n          <Main \n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}  />\n          <Footer />\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onClose={closeAllPopups} \n            onUpdateUser={handleUpdateUser} />\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} />\n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}    />\n\n\n\n\n          <EditConfirmPopup />\n          \n          <ImagePopup \n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n        </div>\n      </div>  \n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}